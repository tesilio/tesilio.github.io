/* ==========================================================================
   Theme Overrides - CSS Custom Properties 적용
   런타임 테마 전환을 위해 색상 변수를 CSS 변수로 오버라이드
   ========================================================================== */

/* ==========================================================================
   Base Elements
   ========================================================================== */

html {
  background-color: var(--mm-background-color);
}

body {
  background-color: var(--mm-background-color);
  color: var(--mm-text-color);
}

/* Links */
a {
  color: var(--mm-link-color);

  &:visited {
    color: var(--mm-link-color-visited);
  }

  &:hover,
  &:focus {
    color: var(--mm-link-color-hover);
  }
}

/* Border elements */
blockquote {
  border-left-color: var(--mm-primary-color);
}

hr {
  border-color: var(--mm-border-color);
}

/* ==========================================================================
   Masthead
   ========================================================================== */

.masthead {
  background-color: var(--mm-background-color);
  border-bottom-color: var(--mm-border-color);
}

.site-title {
  color: var(--mm-masthead-link-color);
}

.greedy-nav {
  background: var(--mm-background-color);

  a {
    color: var(--mm-masthead-link-color);

    &:hover {
      color: var(--mm-masthead-link-color-hover);
    }
  }

  .visible-links a:before {
    background: var(--mm-primary-color);
  }
}

.greedy-nav__toggle {
  color: var(--mm-masthead-link-color);

  &:hover {
    color: var(--mm-masthead-link-color-hover);
  }
}

.navicon {
  background: var(--mm-masthead-link-color);

  &::before,
  &::after {
    background: var(--mm-masthead-link-color);
  }
}

.hidden-links {
  background: var(--mm-background-color);
  border-color: var(--mm-border-color);

  a {
    color: var(--mm-masthead-link-color);

    &:hover {
      color: var(--mm-masthead-link-color-hover);
      background: var(--mm-border-color);
    }
  }
}

/* ==========================================================================
   Footer
   ========================================================================== */

.page__footer {
  background-color: var(--mm-footer-background-color);
  color: #fff !important;
}

.page__footer-follow .social-icons .svg-inline--fa {
  color: inherit;
}

/* ==========================================================================
   Sidebar & Author Profile
   ========================================================================== */

.sidebar {
  a {
    color: var(--mm-text-color);

    &:hover {
      color: var(--mm-link-color);
    }
  }
}

.author__name {
  color: var(--mm-text-color);
}

.author__bio {
  color: var(--mm-muted-text-color);
}

.author__urls-wrapper {
  button {
    color: var(--mm-text-color);
    background-color: var(--mm-background-color);
    border-color: var(--mm-border-color);
  }
}

.author__urls.social-icons .svg-inline--fa {
  color: inherit;
}

/* ==========================================================================
   Content
   ========================================================================== */

.page__content {
  h1, h2, h3, h4, h5, h6 {
    color: var(--mm-text-color);
  }

  p, li, dl {
    color: var(--mm-text-color);
  }
}

.page__meta {
  color: var(--mm-muted-text-color);
}

.page__taxonomy-item {
  color: var(--mm-text-color);
  background: var(--mm-form-background-color);
  border-color: var(--mm-border-color);

  &:hover {
    color: var(--mm-link-color-hover);
    background: var(--mm-background-color);
  }
}

/* ==========================================================================
   Archive & Lists
   ========================================================================== */

.archive__item-title {
  color: var(--mm-text-color);

  a {
    color: var(--mm-text-color);

    &:hover {
      color: var(--mm-link-color);
    }
  }
}

.archive__item-excerpt {
  color: var(--mm-muted-text-color);
}

/* ==========================================================================
   Code & Syntax Highlighting
   ========================================================================== */

/* Inline code */
p > code,
a > code,
li > code,
figcaption > code,
td > code {
  background: var(--mm-code-background-color);
  color: var(--mm-text-color);
}

/* Code blocks */
div.highlighter-rouge,
figure.highlight {
  background: var(--mm-code-background-color);
}

.highlight {
  background: var(--mm-code-background-color);

  .c { color: var(--mm-base03); } /* Comment */
  .err { color: var(--mm-base08); } /* Error */
  .k { color: var(--mm-base0e); } /* Keyword */
  .l { color: var(--mm-base09); } /* Literal */
  .n { color: var(--mm-base00); } /* Name */
  .o { color: var(--mm-base0c); } /* Operator */
  .p { color: var(--mm-base00); } /* Punctuation */
  .cm { color: var(--mm-base03); } /* Comment.Multiline */
  .cp { color: var(--mm-base03); } /* Comment.Preproc */
  .c1 { color: var(--mm-base03); } /* Comment.Single */
  .cs { color: var(--mm-base03); } /* Comment.Special */
  .gd { color: var(--mm-base08); } /* Generic.Deleted */
  .ge { font-style: italic; } /* Generic.Emph */
  .gh { color: var(--mm-base00); font-weight: bold; } /* Generic.Heading */
  .gi { color: var(--mm-base0b); } /* Generic.Inserted */
  .gp { color: var(--mm-base03); font-weight: bold; } /* Generic.Prompt */
  .gs { font-weight: bold; } /* Generic.Strong */
  .gu { color: var(--mm-base0c); font-weight: bold; } /* Generic.Subheading */
  .kc { color: var(--mm-base0e); } /* Keyword.Constant */
  .kd { color: var(--mm-base0e); } /* Keyword.Declaration */
  .kn { color: var(--mm-base0c); } /* Keyword.Namespace */
  .kp { color: var(--mm-base0e); } /* Keyword.Pseudo */
  .kr { color: var(--mm-base0e); } /* Keyword.Reserved */
  .kt { color: var(--mm-base0a); } /* Keyword.Type */
  .ld { color: var(--mm-base0b); } /* Literal.Date */
  .m { color: var(--mm-base09); } /* Literal.Number */
  .s { color: var(--mm-base0b); } /* Literal.String */
  .na { color: var(--mm-base0d); } /* Name.Attribute */
  .nb { color: var(--mm-base00); } /* Name.Builtin */
  .nc { color: var(--mm-base0a); } /* Name.Class */
  .no { color: var(--mm-base08); } /* Name.Constant */
  .nd { color: var(--mm-base0c); } /* Name.Decorator */
  .ni { color: var(--mm-base00); } /* Name.Entity */
  .ne { color: var(--mm-base08); } /* Name.Exception */
  .nf { color: var(--mm-base0d); } /* Name.Function */
  .nl { color: var(--mm-base00); } /* Name.Label */
  .nn { color: var(--mm-base0a); } /* Name.Namespace */
  .nx { color: var(--mm-base0d); } /* Name.Other */
  .py { color: var(--mm-base00); } /* Name.Property */
  .nt { color: var(--mm-base0c); } /* Name.Tag */
  .nv { color: var(--mm-base08); } /* Name.Variable */
  .ow { color: var(--mm-base0c); } /* Operator.Word */
  .w { color: var(--mm-base00); } /* Text.Whitespace */
  .mf { color: var(--mm-base09); } /* Literal.Number.Float */
  .mh { color: var(--mm-base09); } /* Literal.Number.Hex */
  .mi { color: var(--mm-base09); } /* Literal.Number.Integer */
  .mo { color: var(--mm-base09); } /* Literal.Number.Oct */
  .sb { color: var(--mm-base0b); } /* Literal.String.Backtick */
  .sc { color: var(--mm-base00); } /* Literal.String.Char */
  .sd { color: var(--mm-base03); } /* Literal.String.Doc */
  .s2 { color: var(--mm-base0b); } /* Literal.String.Double */
  .se { color: var(--mm-base09); } /* Literal.String.Escape */
  .sh { color: var(--mm-base0b); } /* Literal.String.Heredoc */
  .si { color: var(--mm-base09); } /* Literal.String.Interpol */
  .sx { color: var(--mm-base0b); } /* Literal.String.Other */
  .sr { color: var(--mm-base0b); } /* Literal.String.Regex */
  .s1 { color: var(--mm-base0b); } /* Literal.String.Single */
  .ss { color: var(--mm-base0b); } /* Literal.String.Symbol */
  .bp { color: var(--mm-base00); } /* Name.Builtin.Pseudo */
  .vc { color: var(--mm-base08); } /* Name.Variable.Class */
  .vg { color: var(--mm-base08); } /* Name.Variable.Global */
  .vi { color: var(--mm-base08); } /* Name.Variable.Instance */
  .il { color: var(--mm-base09); } /* Literal.Number.Integer.Long */
}

/* Gist */
.gist {
  .gist-file {
    border-color: var(--mm-border-color);
  }

  .gist-data {
    background-color: var(--mm-code-background-color);
    border-color: var(--mm-border-color);
  }

  .gist-meta {
    background-color: var(--mm-code-background-color-dark);
    color: var(--mm-muted-text-color);
  }
}

/* ==========================================================================
   Forms
   ========================================================================== */

input,
textarea,
select {
  background-color: var(--mm-form-background-color);
  border-color: var(--mm-border-color);
  color: var(--mm-text-color);

  &:focus {
    border-color: var(--mm-primary-color);
  }
}

/* Search */
.search__toggle {
  color: var(--mm-masthead-link-color);

  &:hover {
    color: var(--mm-masthead-link-color-hover);
  }
}

.search-content {
  background-color: var(--mm-background-color);

  .search-input {
    background-color: var(--mm-form-background-color);
    color: var(--mm-text-color);
  }
}

/* ==========================================================================
   Buttons
   ========================================================================== */

.btn {
  color: #fff;
  background-color: var(--mm-primary-color);
  border-color: var(--mm-primary-color);

  &:hover {
    background-color: var(--mm-link-color-hover);
    border-color: var(--mm-link-color-hover);
  }
}

/* ==========================================================================
   Notices
   ========================================================================== */

.notice,
.notice--primary,
.notice--info,
.notice--warning,
.notice--success,
.notice--danger {
  color: var(--mm-text-color);
}

/* ==========================================================================
   Table of Contents
   ========================================================================== */

.toc {
  background-color: var(--mm-background-color);
  border-color: var(--mm-border-color);

  .nav__title {
    color: var(--mm-text-color);
    background: var(--mm-primary-color);
  }

  a {
    color: var(--mm-text-color);

    &:hover {
      color: var(--mm-link-color);
    }
  }
}

/* ==========================================================================
   Archive Subtitle (최근 포스트 등)
   ========================================================================== */

.archive__subtitle {
  color: var(--mm-text-color);
  border-bottom-color: var(--mm-border-color);
}

/* ==========================================================================
   Pagination
   ========================================================================== */

.pagination {
  li {
    a {
      color: var(--mm-muted-text-color);
      border-color: var(--mm-border-color);

      &.disabled {
        color: var(--mm-muted-text-color);
        opacity: 0.5;
      }
    }
  }

  .current {
    color: #fff;
    background: var(--mm-primary-color);
  }
}

.pagination--pager {
  color: var(--mm-text-color);
  border-color: var(--mm-border-color);

  &:hover {
    background-color: var(--mm-primary-color);
    color: #fff;
  }

  &.disabled {
    color: var(--mm-muted-text-color);
  }
}

/* ==========================================================================
   Theme Toggle Button
   ========================================================================== */

.theme-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  margin-right: 0.5rem;
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--mm-masthead-link-color);
  transition: color 0.2s ease;

  &:hover {
    color: var(--mm-link-color);
  }

  svg {
    width: 1.25rem;
    height: 1.25rem;
  }
}

/* Light mode: 달 아이콘 표시 */
:root:not([data-theme="dark"]) .theme-toggle__sun,
[data-theme="light"] .theme-toggle__sun {
  display: none;
}

:root:not([data-theme="dark"]) .theme-toggle__moon,
[data-theme="light"] .theme-toggle__moon {
  display: block;
}

/* Dark mode: 해 아이콘 표시 */
[data-theme="dark"] .theme-toggle__sun {
  display: block;
}

[data-theme="dark"] .theme-toggle__moon {
  display: none;
}

/* OS dark mode 미디어 쿼리 아이콘 전환 */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) .theme-toggle__sun {
    display: block;
  }

  :root:not([data-theme="light"]) .theme-toggle__moon {
    display: none;
  }
}

/* ==========================================================================
   Smooth Transitions
   ========================================================================== */

html,
body,
.masthead,
.greedy-nav,
.page__footer,
.sidebar,
.toc,
div.highlighter-rouge,
figure.highlight,
input,
textarea,
select {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

a {
  transition: color 0.2s ease;
}
